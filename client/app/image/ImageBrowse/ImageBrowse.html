<header class="hero-unit pv-banner" ng-if="$ctrl.isInPage">
	<div class="container">
		<h1>Images.</h1>
		<p class="lead">Upload and Manage them here.</p>

	</div>
</header>


<div class="container">
	
	<div class="row">
		<div class="col-lg-12">
			
			<div  ng-if="$ctrl.isInPage">
				<h1>
					Images Uploader	
				</h1>
				<hr>
			</div>
			

			<div class="form-group">

				
				<div image-uploader ng-model="$ctrl.newFiles" class="btn btn-default">
					Select Files <i class="fa fa-cloud-upload"></i>
				</div>
				
				<div ng-show="$ctrl.newFiles.length > 0" class="btn btn-success tada animated" ng-click="$ctrl.uploadRemain()">Confirm Upload</div>
				


				<!-- <input class="files" image-uploader ng-model="$ctrl.newFiles" type="file" multiple="multiple" accept="image/*"> -->
			</div>
			
		</div>
	</div>

	<div class="row">
		<div ng-repeat="column in [0,1,2,3]" class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
			
			<div class="thumbnail" ng-if="$index % 4 === column" ng-repeat="(newFileKey, newFile) in $ctrl.newFiles">
				<img ng-src="{{ newFile.file.blobURL }}" alt="">
				
				<div class="progress" ng-hide="newFile.progress === 1"> 
					<div class="progress-bar progress-bar-info progress-bar-striped active" role="progressbar" style="width: {{ newFile.progress * 100 }}%">
					</div>
				</div>
				
				<div class="btn btn-warning" ng-show="!newFile.progress" ng-click="$ctrl.cancelUpload(newFile)" >Cancel Upload</div>


			</div>

		</div>
	</div>


	<!-- <div class="row">
		<div class="col-lg-12">
			<pre>{{ $ctrl.newFiles | json }}</pre>
		</div>
	</div>	
	 -->

</div>


<div class="container">
	
	<div class="row">
		<div ng-repeat="column in [0,1,2,3]" class="col-lg-3 col-md-3 col-sm-3 col-xs-12">
			
			<div class="thumbnail" ng-if="$index % 4 === column" ng-repeat="(myImgKey, myImg) in $ctrl.myImgs">
				
				<div style="position:relative; width:100%; height:0; padding-top:{{ myImg.height / myImg.width * 100  }}%;">
			  		<img style="position:absolute; top:0; left:0; width:100%;" ng-src="{{ myImg.thumbURL }}" />
				</div>
				
				<div class="btn btn-danger" ng-click="$ctrl.remove(myImg)" >ⓧ</div>
				<div class="btn" ng-class="{ 'btn-success': myImg.isLogo, 'btn-default': !myImg.isLogo }" ng-click="myImg.isLogo = !myImg.isLogo; $ctrl.update(myImg)">Logo ✔︎</div>

				<!-- <img image-size-holder width="{{ myImg.width }}" height="{{ myImg.height }}" alt=""> -->
				<!-- Stage: {{ myImg.stage }} -->
			</div>

		</div>
	</div>


	
</div>




